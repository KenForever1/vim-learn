# Vim: 以思考的速度编辑文本

## 普通模式

### 技巧8 把撤销单元切成块

按 **i** 进入插入模式

让每个“可撤销块”对应一次思考过程

按 **<ESC>o** 进入下一行编辑，相比 **<CR>** 可以有更细的撤销粒度

按 **u** 命令撤销。

### 技巧9 构造可重复的修改

例如：光标位于单词的最后一个字母上，需要删除该单词。

命令：**daw**

后使用 **.** 命令会重复上次删除单词的命令。

### 技巧10 用次数做简单的算术运算

+ **<C-a>** 和 **<C-x>** 分别对数字执行加和减操作。

例如：**10<C-a>**  : 表示对光标位置上的数字加10，或者当光标位置上不是数字的时候，会向后查找最近的数字加10。

+ **cw** 删除从光标位置开始的一个word。

+ **yyp** 复制一行内容。

+ vim默认把以0开头的数字解释为八进制值，而不是十进制。

  在vimrc里加入：set nrformats

  会让vim把所有数字都当成十进制，不管它们是不是以0开头。

### 技巧11 能够重复，就别用次数

删除一句话中的两个单词可以用：

**2dw** 、**d2w** 、**dw.**

选用 **dw.** 的可重用性更高。

### 技巧12 双剑合璧，天下无敌

#### 操作符 + 动作命令 = 操作

例如：

- **d｛motion｝** 命令，**dl** （删除一个字符），**daw** （删除一个单词），**dap** （删除一个段落）。
- **gUaw** 把单词转换成大写形式，**gUap** 将整段文字转换为大写。

#### Vim的操作符命令

| 命令 | 用途                                 |
| ---- | ------------------------------------ |
| c    | 修改                                 |
| d    | 删除                                 |
| y    | 复制到寄存器                         |
| g~   | 反转大小写                           |
| gu   | 转换为小写                           |
| gU   | 转换为大写                           |
| >    | 增加缩进                             |
| <    | 减小缩进                             |
| =    | 自动缩进                             |
| !    | 使用外部程序过滤｛motion｝所跨越的行 |

#### 额外规则

当一个操作符命令被连续调用两次时，它会做用于当前行。

**dd** 删除当前行，**>>** 缩进当前行， **gUU** 等效于**gUgU** 作用于当前行转换为大写。



补充： **gg** 跳到开头位置，**G** 跳到最尾部位置。

**gg=G** 自动缩进整个文件。